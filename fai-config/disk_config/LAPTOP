# Purple Computer disk configuration for laptops
# LVM-based layout with separate volumes for flexibility
# Optimized for 2010-2015 era laptops (typically 128GB-500GB disks)

# First, define the disk and basic partitioning
disk_config disk1 disklabel:gpt bootable:1 fstabkey:uuid

# Boot partition - works for both UEFI and BIOS
primary /boot     512M    ext4    rw,relatime,errors=remount-ro

# LVM physical volume takes the rest
primary -         0-      -       -

# LVM volume group configuration
disk_config lvm vg:vg_system

# Logical volumes
vg_system-root    /       20G     ext4    rw,relatime,errors=remount-ro
vg_system-swap    swap    4G      swap    sw
vg_system-home    /home   10G     ext4    rw,relatime,nodev,nosuid
vg_system-var     /var    10G     ext4    rw,relatime,nodev
vg_system-tmp     /tmp    2G      ext4    rw,relatime,nodev,nosuid,noexec

# Leave remaining space unallocated for future use or snapshots
# This allows flexibility for user data expansion

# Filesystem options explanation:
# - relatime: update access times efficiently
# - nodev: no device files (security)
# - nosuid: no setuid (security)
# - noexec: no execution on /tmp (security)
# - errors=remount-ro: remount read-only on errors for root/boot
